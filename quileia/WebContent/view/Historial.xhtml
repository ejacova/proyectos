<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://java.sun.com/jsf/facelets">
<h:head>


	<h:outputStylesheet library="css" name="index.css" />

</h:head>


<h:body>


	<nav class="navbar navbar-expand-lg navbar-dark bg-primary"> <a
		class="navbar-brand" href="#">Quileia</a>
	<div class="collapse navbar-collapse" id="navbarColor01">
		<ul class="navbar-nav mr-auto">
			<li class="nav-item"><a class="nav-link" href="Index.jsf">Home
			</a></li>
			<li class="nav-item "><a class="nav-link" href="Agente.jsf">Registrar
					Agente de Transito</a></li>
			<li class="nav-item"><a class="nav-link" href="Via.jsf">Registrar
					Vías</a></li>
			<li class="nav-item active"><a class="nav-link"
				href="Historial.jsf">Historial de Asignaciones</a></li>
		</ul>
	</div>
	</nav>
		<div class="progress">
  <div class="progress-bar progress-bar-striped progress-bar-animated" role="progressbar" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100" style="width: 100%;"></div>
</div>
	<div class="text-center">
		<div class="row" style="">

			<div class="col-sm-5 col-md-6"
				style="margin-left: 80px; margin-top: 40px">


				<h3>Busqueda por Agente</h3>
				
				<h:form>
					<div class="form-group">


						<label for="id">Ingrese el ID de usuario</label>
						<p:inputText type="text" class="form-control"
							value="#{historialController.ID}" />
					</div>

					<p:commandButton 
    value="Buscar"
    action="#{historialController.setBuscarId(true)}"
    update=":div"/>
    
				</h:form>

			</div>
			<div class="col-md-4 col-md-offset-4"
				style="margin-left: 150px; margin-top: 40px">

				<h3>Busqueda por Via</h3>
				
				<h:form>
					<div class="form-group">
						<label for="id">Ingrese el numero de Vía</label>
						<p:inputText id="txt_num" value="#{historialController.numero}"
							class="form-control" />
					</div>

					<p:commandButton 
    value="Buscar"
    action="#{historialController.setBuscarVia(true)}"
    update=":div"/>
				</h:form>
			</div>


		</div>
	</div>

	<div class="text-center" style="margin-top: 60px;">
		<h2>Historial de Asignaciones</h2>
	</div>

	<h:form id="div">
		<div class="text-center" style="margin-top: 25px;">
			<p:dataTable var="agente" value="#{historialController.obtenerHistorial()}">

				<p:column headerText="Id de Agente">
					<h:outputText value="#{agente.codigoAgente}" />
				</p:column>

				<p:column headerText="Nombre del Agente">
					<h:outputText value="#{agente.nombre}" />
				</p:column>

				<p:column headerText=" Años de Experiencia ">
					<h:outputText value="#{agente.añosExperiencia}" />
				</p:column>

				<p:column headerText="Codigo de Secretaría">
					<h:outputText value="#{agente.codigoSecretaria}" />
				</p:column>

				<p:column headerText="Via Asignada">
					<h:outputText
						value="#{agente.via.tipo} #{agente.via.calleCarrera} #{agente.via.numero} " />
				</p:column>

				<p:column headerText="Via Id">
					<h:outputText value="#{agente.via.identificador} " />
				</p:column>


			</p:dataTable>


		</div>




	</h:form>





</h:body>


</html>